# KV存储引擎

众所周知，非关系型数据库redis，以及levedb，rockdb其核心存储引擎的数据结构就是跳表。

本项目就是基于跳表实现的轻量级键值型存储引擎，使用C++实现。插入数据、删除数据、查询数据、数据落盘、文件加载数据。

# 项目中文件

* main.cpp 项目的入口
* skiplist.hpp 跳表核心实现     
* fileInfo.hpp 文件信息类
* cache.hpp  读写缓冲类
* makefile 编译脚本
* proto  protoBuf 文件
* command.sh  自动化测试脚本


# 存储引擎数据表现

## 插入操作

跳表树高：

采用随机插入数据测试：


|插入数据规模（万条） |耗时（秒） |
|---|---|
|10 | |
|50 | |
|100 | |


每秒可处理写请求数（QPS）: 

## 取数据操作

|取数据规模（万条） |耗时（秒） |
|---|---|
|1|            |
|50| |
|100| |

每秒可处理读请求数（QPS）: 

# 项目运行方式

```shell
make            // complie  main.cpp
./main      // run 
```

如果想模拟用户快速输入数据，可以使用脚本进行运行

```shell
sh command.sh 
```

# 待优化 

* delete的部分可能存在内存访问越界，存在一些段错误
* 当前版本为单线程版本，未来将加入多线程
* 如果再加上一致性协议，例如raft就构成了分布式存储，再启动一个http server就可以对外提供分布式存储服务了


